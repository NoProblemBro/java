# zuul

## 1.在zuul中添加ip黑名单检测流程
通过加载PRE_TYPE的Filter,对所有请求进行拦截，将所有请求头转发给ip黑名单检测服务进行ip黑名单检测。ip黑名单检测服务检测到黑名单后，将黑名单返回给zuul，zuul随后拒绝访问。这个方案的好处就是可以将无效流量限制在网关之外，防止流量穿透内网。缺点是对ip黑名单检测服务要求较高，必须低延时高可用，否则一但出现阻塞，将出现雪崩现象。理论上http请求可以横向扩展，不考虑资金的情况下，能够保证高可用。如果不能保证ip黑名单检测服务高可用，触发了服务熔断，请求是否应该放过，还是因ip黑名单检测服务的熔断而熔断？